{% extends "common/base.html" %}
{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                {% if article %}
                    <form role="form" action="/edit_article/{{ article.article_id }}" }} method="post">

                {% else %}
                    <form role="form" action={{ url_for('main.wrarticle') }} method="post">
                {% endif %}
                <div class="form-group">
                    <label for="name" style="color: #000000">文章标题</label>
                    {% if article %}
                        <input type="text" name="article_title" class="form-control" placeholder="请输入文章标题"
                               value="{{ article.article_title }}"/>
                    {% else %}
                        <input type="text" name="article_title" class="form-control" placeholder="请输入文章标题"/>
                    {% endif %}
                    <br>
                </div>
                <div class="form-group">
                    <label for="name" style="color: #000000">插图地址</label>
                    {% if article %}
                        <input type="text" name="article_url" class="form-control" placeholder="图片插图地址"
                               value="{{ article.article_url }}"/>
                    {% else %}
                        <input type="text" name="article_url" class="form-control" placeholder="图片插图地址"/>
                    {% endif %}
                    <br>
                </div>
                <div class="form-group">
                    <div>
                        <label for="name" style="color: #000000">文章分类</label>
                        <label class="checkbox-inline" style="color: #000000" >
                            <input type="radio" name="f_type" value="1" checked > python
                        </label>
                        <label class="checkbox-inline" style="color: #000000">
                            <input type="radio" name="f_type" value="2"/>java
                        </label>
                        <label class="checkbox-inline" style="color: #000000">
                            <input type="radio" name="f_type" value="3"/>其他
                        </label>
                    </div>
                    <br>
                    {% if article %}
                        <textarea id="mymarkdown" name="article_content">{{ article.article_summary }}</textarea>
                    {% else %}
                        <textarea id="mymarkdown" name="article_content"></textarea>
                    {% endif %}
                    {% if article %}
                        <button type="submit" class="btn btn-primary">完成编辑</button>
                    {% else %}
                        <button type="submit" class="btn btn-primary">发布文章</button>
                    {% endif %}
                </div>
                </form>

            </div>
        </div>
    </div>

    <!-- markdown begin -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
    <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
    <script>
        new SimpleMDE({
            element: document.getElementById("mymarkdown"),
            spellChecker: false,
            autosave: {
                enabled: true,
                unique_id: "demo2",
            },
        });

    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-5808021-18', 'auto');
        ga('send', 'pageview');

    </script>
    <!-- markdown end -->

    {{ super() }}
{% endblock %}
